{"ast":null,"code":"import mongoose from 'mongoose';\nimport '../models/user/user.schema';\nimport '../models/task/task.schema';\nexport default async function database(req, res, next) {\n  if (mongoose.connections[0].readyState) {\n    return next();\n  }\n\n  await mongoose.connect('mongodb://mo1272_kodifaj:Fender15!@195.167.159.159:27017/mo1272_kodifaj', {\n    useNewUrlParser: true,\n    useFindAndModify: false,\n    useCreateIndex: true,\n    useUnifiedTopology: true\n  });\n  return next();\n}","map":{"version":3,"sources":["/home/czechue/Documents/kodifaj-frontend/middlewares/database.ts"],"names":["mongoose","database","req","res","next","connections","readyState","connect","useNewUrlParser","useFindAndModify","useCreateIndex","useUnifiedTopology"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAIA,OAAO,4BAAP;AACA,OAAO,4BAAP;AAEA,eAAe,eAAeC,QAAf,CACbC,GADa,EAEbC,GAFa,EAGbC,IAHa,EAIE;AACf,MAAIJ,QAAQ,CAACK,WAAT,CAAqB,CAArB,EAAwBC,UAA5B,EAAwC;AACtC,WAAOF,IAAI,EAAX;AACD;;AAED,QAAMJ,QAAQ,CAACO,OAAT,CACJ,yEADI,EAEJ;AACEC,IAAAA,eAAe,EAAE,IADnB;AAEEC,IAAAA,gBAAgB,EAAE,KAFpB;AAGEC,IAAAA,cAAc,EAAE,IAHlB;AAIEC,IAAAA,kBAAkB,EAAE;AAJtB,GAFI,CAAN;AAUA,SAAOP,IAAI,EAAX;AACD","sourcesContent":["import mongoose from 'mongoose';\nimport { NextHandler } from 'next-connect';\nimport { NextApiRequest, NextApiResponse } from 'next';\n\nimport '../models/user/user.schema';\nimport '../models/task/task.schema';\n\nexport default async function database(\n  req: NextApiRequest,\n  res: NextApiResponse,\n  next: NextHandler,\n): Promise<void> {\n  if (mongoose.connections[0].readyState) {\n    return next();\n  }\n\n  await mongoose.connect(\n    'mongodb://mo1272_kodifaj:Fender15!@195.167.159.159:27017/mo1272_kodifaj',\n    {\n      useNewUrlParser: true,\n      useFindAndModify: false,\n      useCreateIndex: true,\n      useUnifiedTopology: true,\n    },\n  );\n\n  return next();\n}\n"]},"metadata":{},"sourceType":"module"}